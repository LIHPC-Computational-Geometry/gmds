
name: continuous-windows

on:
  push:
    branches: [ cmake-portage-windows ]
  pull_request:
    branches: [ cmake-portage-windows ]
    
jobs:
  Continuous:
    runs-on: windows-latest
    steps:
  
    - name: Check out repository code
      uses: actions/checkout@v2
        
    - name: Setup cmake
      uses: jwlawson/actions-setup-cmake@v1.9
      with:
        cmake-version: '3.16.x'
    
    - name: Compile glpk    
      run: cd $GLPK_SCRIPTS && dir && Build_GLPK_with_VC17_DLL.bat
      env: 
        GLPK_SCRIPTS : "${{github.workspace}}/external/glpk/src/glpk/w64/"
      
    - name: Create Build Environment    
      run: cmake -S ${{github.workspace}} -B ${{github.workspace}}/build -Ax64
